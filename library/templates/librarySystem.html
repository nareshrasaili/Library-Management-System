{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Management System</title>
    <!-- CSS -->
    <link rel="stylesheet" href="{% static 'frontend/librarySystemStyle.css' %}">
</head>
<body>
    <!-- LOGIN SECTION -->
    <section id="login-section">
        <h2>Library Login</h2>
        <div>
            <input type="text" placeholder="Email" required>
            <input type="password" placeholder="Password" required>
            <button class="btn-primary">Login</button>
            <p id="loginMessage" class="form-message"></p>
        </div>
    </section>

    <!-- APP MAIN SECTION -->
    <section id="app" style="display: none; flex-direction: column;">
        <header>
            <h1>Library Management Dashboard</h1>
            <button onclick="logout()">Logout</button>
        </header>

        <!-- NAVIGATION -->
        <nav>
            <button onclick="showSection('dashboard')">Dashboard</button>
            <button onclick="showSection('books')">Books</button>
            <button onclick="showSection('students')">Students</button>
            <button onclick="showSection('issue')">Issue/Return</button>
        </nav>

        <!-- DASHBOARD SECTION -->
        <div id="dashboard" class="section">
            <h2>Dashboard</h2>
            <div class="stats">
                <div>Total Books: <span id="totalBooks">0</span></div>
                <div>Total Students: <span id="totalStudents">0</span></div>
                <div>Total Issued: <span id="totalIssued">0</span></div>
            </div>
        </div>

        <!-- BOOKS SECTION -->
        <div id="books" class="section" style="display:none;">
            <h2>Manage Books</h2>
            <div id="bookMessage" class="form-message"></div>
            <input id="bookNumber" placeholder="Book Number">
            <input id="bookTitle" placeholder="Title">
            <input id="bookAuthor" placeholder="Author">
            <input id="totalCopies" placeholder="Total Copies">
            <button id="addBookBtn">Add Book</button>

            <h3>Search Book</h3>
            <input id="bookSearchNo" placeholder="Book Number">
            <button id="bookSearchBtn">Search</button>

            <div id="bookSearchResult" style="display:none;">
                <p>Title: <span id="resultBookTitle"></span></p>
                <p>Author: <span id="resultBookAuthor"></span></p>
                <p>Book Number: <span id="resultBookNo"></span></p>
                <p>Available: <span id="resultBookAvailable"></span></p>
            </div>
        </div>

        <!-- STUDENTS SECTION -->
        <div id="students" class="section" style="display:none;">
            <h2>Manage Students</h2>
            <div id="studentMessage" class="form-message"></div>
            <input id="studentName" placeholder="Name">
            <input id="studentRoll" placeholder="Roll Number">
            <input id="studentBatch" placeholder="Batch">
            <input id="studentFaculty" placeholder="Faculty">
            <input id="studentEmail" placeholder="Email">
            <button id="addStudentBtn">Add Student</button>

            <h3>Search Student</h3>
            <input id="studentSearchRoll" placeholder="Roll Number">
            <button id="studentSearchBtn">Search</button>

            <div id="studentSearchResult" style="display:none;">
                <p>Name: <span id="resultName"></span></p>
                <p>Roll: <span id="resultRoll"></span></p>
                <p>Batch: <span id="resultBatch"></span></p>
                <p>Faculty: <span id="resultFaculty"></span></p>
                <p>Email: <span id="resultEmail"></span></p>
                <input type="hidden" id="selectedStudentRoll">
                <button class="btn-danger">Remove Student</button>
            </div>
        </div>

        <!-- ISSUE/RETURN SECTION -->
        <div id="issue" class="section" style="display:none;">
            <h2>Issue / Return Book</h2>
            <div id="issueMessage" class="form-message"></div>
            <input id="issueRollNo" placeholder="Student Roll">
            <input id="issueBookNo" placeholder="Book Number">
            <input id="issueDate" type="date">
            <input id="ReturnDate" type="date">
            <button id="issueBtn">Issue Book</button>
            <button id="returnBtn">Return Book</button>
        </div>
    </section>

    <!-- JS -->
    <script src="{% static 'frontend/librarySystem.js' %}"></script>
</body>
</html>